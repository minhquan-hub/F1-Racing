// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model driver {
    id             Int           @id @default(autoincrement())
    full_name      String
    avatar         String
    country        String
    date_of_birth  DateTime      @db.Date
    place_of_birth String
    rank           Int
    team_driver    team_driver[] @relation("driver_id")
}

model team {
    id          Int           @id @default(autoincrement())
    team_name   String        @unique
    base        String
    team_chief  String
    team_driver team_driver[] @relation("team_id")
}

model team_driver {
    id        Int    @id @default(autoincrement())
    team      team   @relation(fields: [team_id], references: [id], name: "team_id")
    team_id   Int
    driver    driver @relation(fields: [driver_id], references: [id], name: "driver_id")
    driver_id Int
}

model race {
    id               Int           @id @default(autoincrement())
    grand_prix       String
    race_date        DateTime      @db.Date
    race_result_link race_result[] @relation("race_result_link")
}

model race_result {
    id      Int      @id @default(autoincrement())
    race    race     @relation(fields: [race_id], references: [id], name: "race_result_link")
    race_id Int
    pos     Int
    no      Int
    driver  String
    car     String
    laps    Int
    time    String
    pts     Int
}
